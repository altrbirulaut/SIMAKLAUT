<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SIMAKLAUT - Sistem Informasi Maritim dan Klimatologi Laut Banten</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.css" />
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <div class="header-content">
            <div class="logo-section">
                </div>
        
            <button class="hamburger-btn" id="hamburgerBtn" aria-label="Menu Navigasi">
                &#9776; </button>
        
            <nav id="mainNav">
                <button class="nav-btn" data-section="dashboard">Dashboard</button>
                <button class="nav-btn" data-section="peta">Peta Interaktif</button>
                <button class="nav-btn" data-section="iklim">Perubahan Iklim</button>
                <button class="nav-btn" data-section="forum">Forum Diskusi</button>
            
                <button class="nav-btn" id="loginBtn" onclick="openLoginModal()">Login</button>
                <button class="nav-btn user-menu-btn" id="userBtn" style="display: none;">
                    <span id="userName"></span> 
                    | <span onclick="openEditProfileModal()" style="cursor: pointer;">Edit Profil</span> 
                    | <span onclick="logout()" style="cursor: pointer;">Logout</span>
                </button>
            </nav>
        
        </div>
    </header>

    <div class="container">
        <div id="dashboard" class="section active">
            <div class="location-selector">
                <label for="locationSelect">ğŸ“ Pilih Lokasi Pantai:</label>
                <select id="locationSelect">
                    <option value="anyer">Pantai Anyer</option>
                    <option value="carita">Pantai Carita</option>
                    <option value="sawarna">Pantai Sawarna</option>
                    <option value="tanjunglesung">Tanjung Lesung</option>
                    <option value="labuan">Pantai Labuan</option>
                    <option value="bagedur">Pantai Bagedur</option>
                </select>
            </div>

            <div class="dashboard-grid">
                <div class="card">
                    <h3><span class="card-icon">ğŸŒŠ</span> Pasang Surut (DEMO)</h3>
                    <div class="data-item">
                        <span class="data-label">Status Saat Ini</span>
                        <span class="data-value" id="tideStatus">Pasang</span>
                    </div>
                    <div class="data-item">
                        <span class="data-label">Ketinggian Air</span>
                        <span class="data-value" id="tideHeight">1.8 m</span>
                    </div>
                    <div class="data-item">
                        <span class="data-label">Pasang Tinggi Berikutnya</span>
                        <span class="data-value" id="nextHighTide">14:30</span>
                    </div>
                    <div class="data-item">
                        <span class="data-label">Surut Rendah Berikutnya</span>
                        <span class="data-value" id="nextLowTide">20:15</span>
                    </div>
                </div>

                <div class="card">
                    <h3><span class="card-icon">ğŸŒ¤ï¸</span> Cuaca Saat Ini</h3>
                    <div class="data-item">
                        <span class="data-label">Kondisi</span>
                        <span class="data-value" id="weatherCondition">Cerah Berawan</span>
                    </div>
                    <div class="data-item">
                        <span class="data-label">Suhu Udara</span>
                        <span class="data-value" id="temperature">28Â°C</span>
                    </div>
                    <div class="data-item">
                        <span class="data-label">Kelembaban</span>
                        <span class="data-value" id="humidity">75%</span>
                    </div>
                    <div class="data-item">
                        <span class="data-label">Kecepatan Angin</span>
                        <span class="data-value" id="windSpeed">12 km/h</span>
                    </div>
                    <div class="data-item">
                        <span class="data-label">Arah Angin</span>
                        <span class="data-value" id="windDirection">Barat Laut</span>
                    </div>
                </div>

                <div class="card">
                    <h3><span class="card-icon">ğŸŒ¡ï¸</span> Parameter Oseanografi</h3>
                    <div class="data-item">
                        <span class="data-label">Suhu Permukaan Laut</span>
                        <span class="data-value" id="seaTemp">29.2Â°C</span>
                    </div>
                    <div class="data-item">
                        <span class="data-label">Salinitas</span>
                        <span class="data-value" id="salinity">33.5 PSU</span>
                    </div>
                    <div class="data-item">
                        <span class="data-label">Tinggi Gelombang</span>
                        <span class="data-value" id="waveHeight">0.8 m</span>
                    </div>
                    <div class="data-item">
                        <span class="data-label">Periode Gelombang</span>
                        <span class="data-value" id="wavePeriod">5.2 detik</span>
                    </div>
                    <div class="data-item">
                        <span class="data-label">Arus Permukaan</span>
                        <span class="data-value" id="current">0.5 m/s</span>
                    </div>
                </div>
            </div>
        </div>

        <div id="peta" class="section">
            <h2 style="color: #64b5f6; margin-bottom: 1.5rem; font-size: 1.8rem;">ğŸ—ºï¸ Peta Interaktif Pantai Banten</h2>
            <div id="map"></div>
            
            <div class="card">
                <h3>ğŸ“ Informasi Lokasi</h3>
                <p style="color: #e0e7ff; line-height: 1.6; margin-top: 1rem;">
                    Deskripsi.
                </p>
            </div>
        </div>

        <div id="iklim" class="section">
            <h2 style="color: #64b5f6; margin-bottom: 1.5rem; font-size: 1.8rem;">ğŸŒ Monitoring Perubahan Iklim</h2>
            
            <div class="card">
                <h3>ğŸ“ˆ Tren Jangka Panjang</h3>
                <div class="climate-grid">
                    <div class="climate-item">
                        <h4>Suhu Permukaan Laut</h4>
                        <div class="climate-value">+0.8Â°C</div>
                        <div class="climate-trend">â†‘ Dalam 10 tahun terakhir</div>
                    </div>
                    <div class="climate-item">
                        <h4>Kenaikan Permukaan Laut</h4>
                        <div class="climate-value">+3.2 mm/tahun</div>
                        <div class="climate-trend">â†‘ Rata-rata tahunan</div>
                    </div>
                    <div class="climate-item">
                        <h4>Curah Hujan</h4>
                        <div class="climate-value">-5%</div>
                        <div class="climate-trend">â†“ Penurunan musiman</div>
                    </div>
                    <div class="climate-item">
                        <h4>Frekuensi Gelombang Tinggi</h4>
                        <div class="climate-value">+15%</div>
                        <div class="climate-trend">â†‘ Meningkat signifikan</div>
                    </div>
                </div>
            </div>

            <div class="dashboard-grid" style="margin-top: 2rem;">
                <div class="card">
                    <h3>ğŸŒŠ Dampak pada Ekosistem</h3>
                    <p style="color: #e0e7ff; line-height: 1.6; margin-top: 1rem;">
                        <strong style="color: #64b5f6;">Terumbu Karang:</strong> Peningkatan suhu laut menyebabkan pemutihan karang di beberapa lokasi.<br><br>
                        <strong style="color: #64b5f6;">Abrasi Pantai:</strong> Kenaikan permukaan laut mempercepat erosi di wilayah pesisir utara Banten.<br><br>
                        <strong style="color: #64b5f6;">Migrasi Ikan:</strong> Perubahan suhu air mempengaruhi pola migrasi spesies laut komersial.
                    </p>
                </div>

                <div class="card">
                    <h3>âš ï¸ Peringatan Iklim</h3>
                    <p style="color: #e0e7ff; line-height: 1.6; margin-top: 1rem;">
                        <span class="status-badge status-warning">Perhatian</span>
                        <strong style="display: block; margin-top: 1rem; color: #64b5f6;">Prediksi La NiÃ±a:</strong>
                        Berpotensi meningkatkan curah hujan dan gelombang tinggi di perairan Banten dalam 3-6 bulan ke depan.
                    </p>
                </div>

                <div class="card">
                    <h3>ğŸ“Š Data Historis</h3>
                    <p style="color: #e0e7ff; line-height: 1.6; margin-top: 1rem;">
                        Data perubahan iklim dikumpulkan dari stasiun pemantauan BMKG sejak tahun 2000. Analisis tren menggunakan metodologi IPCC dan disesuaikan dengan kondisi lokal Banten.
                    </p>
                </div>
            </div>
        </div>

<div id="forum" class="section">
    <div class="forum-container">
        <div class="forum-header">
            <h2>ğŸ’¬ Forum Diskusi Akademisi & Peneliti (DEMO)</h2>
            <button class="btn-primary" onclick="openNewThreadModal()">+ Buat Diskusi Baru</button>
        </div>

        <div id="discussionList">
            <div class="discussion-thread" data-thread-id="1">
                <div class="thread-header">
                    <div>
                        <div class="thread-title">Metode Sampling Kualitas Air Laut di Perairan Dangkal</div>
                        <div class="thread-meta">oleh Dr. Ahmad Santoso â€¢ 2 hari yang lalu</div>
                    </div>
                    <span class="status-badge status-normal">Aktif</span>
                </div>
                <div class="thread-content">
                    Saya sedang melakukan penelitian mengenai parameter kualitas air di zona litoral Pantai Anyer. Ingin berdiskusi mengenai metode sampling yang paling efektif untuk perairan dangkal dengan substrat berpasir. Apakah ada yang memiliki pengalaman dengan...
                </div>
                <div class="thread-footer">
                    <span>ğŸ‘ï¸ 124 dilihat</span>
                    <span id="replies-count-1">ğŸ’¬ 15 balasan</span>
                    <span>ğŸ·ï¸ Oseanografi, Metodologi</span>
                </div>
                <div class="replies-section" id="replies-1">
                    <button class="toggle-replies-btn" onclick="toggleReplies('1')">Lihat Balasan (15)</button>
                    <div class="reply-list" style="display: none;">
                        </div>
                    <div class="new-reply-form" style="display: none;">
                        <input type="text" id="reply-author-1" placeholder="Nama Anda" style="width: 150px; margin-right: 10px; padding: 5px; border-radius: 5px;">
                        <input type="text" id="reply-content-1" placeholder="Tulis balasan Anda..." style="width: calc(100% - 220px); padding: 5px; border-radius: 5px;">
                        <button onclick="postReply('1')" style="padding: 5px 10px; margin-left: 10px;" class="btn-primary">Kirim</button>
                    </div>
                </div>
            </div>

            <div class="discussion-thread" data-thread-id="2">
                <div class="thread-header">
                    </div>
                <div class="thread-content">
                    Berdasarkan data BMKG 5 tahun terakhir, terjadi peningkatan SST (Sea Surface Temperature) yang signifikan. Bagaimana korelasi ini dengan hasil tangkapan nelayan lokal? Saya mengundang kolaborasi untuk penelitian longitudinal...
                </div>
                <div class="thread-footer">
                    <span>ğŸ‘ï¸ 287 dilihat</span>
                    <span id="replies-count-2">ğŸ’¬ 32 balasan</span>
                    <span>ğŸ·ï¸ Klimatologi, Perikanan</span>
                </div>
                 <div class="replies-section" id="replies-2">
                    <button class="toggle-replies-btn" onclick="toggleReplies('2')">Lihat Balasan (32)</button>
                    <div class="reply-list" style="display: none;"></div>
                    <div class="new-reply-form" style="display: none;">
                        <input type="text" id="reply-author-2" placeholder="Nama Anda" style="width: 150px; margin-right: 10px; padding: 5px; border-radius: 5px;">
                        <input type="text" id="reply-content-2" placeholder="Tulis balasan Anda..." style="width: calc(100% - 220px); padding: 5px; border-radius: 5px;">
                        <button onclick="postReply('2')" style="padding: 5px 10px; margin-left: 10px;" class="btn-primary">Kirim</button>
                    </div>
                </div>
            </div>

            <div class="discussion-thread" data-thread-id="3">
                <div class="thread-header">
                    </div>
                <div class="thread-content">
                    Diskusi teknis mengenai akurasi prediksi pasang surut menggunakan model harmonik dibandingkan dengan pengukuran tide gauge di Tanjung Lesung. Ada deviasi sekitar 8-12 cm yang menarik untuk dianalisis lebih lanjut...
                </div>
                <div class="thread-footer">
                    <span>ğŸ‘ï¸ 156 dilihat</span>
                    <span id="replies-count-3">ğŸ’¬ 21 balasan</span>
                    <span>ğŸ·ï¸ Hidrodinamika, Model</span>
                </div>
                 <div class="replies-section" id="replies-3">
                    <button class="toggle-replies-btn" onclick="toggleReplies('3')">Lihat Balasan (21)</button>
                    <div class="reply-list" style="display: none;"></div>
                    <div class="new-reply-form" style="display: none;">
                        <input type="text" id="reply-author-3" placeholder="Nama Anda" style="width: 150px; margin-right: 10px; padding: 5px; border-radius: 5px;">
                        <input type="text" id="reply-content-3" placeholder="Tulis balasan Anda..." style="width: calc(100% - 220px); padding: 5px; border-radius: 5px;">
                        <button onclick="postReply('3')" style="padding: 5px 10px; margin-left: 10px;" class="btn-primary">Kirim</button>
                    </div>
                </div>
            </div>

             <div class="discussion-thread" data-thread-id="4">
                <div class="thread-header">
                    </div>
                <div class="thread-content">
                    Mencari dataset batimetri dengan resolusi minimal 10m untuk keperluan pemodelan tsunami di Sawarna. Apakah ada yang memiliki akses atau rekomendasi sumber data dari BIG atau institusi lain?
                </div>
                <div class="thread-footer">
                    <span>ğŸ‘ï¸ 93 dilihat</span>
                    <span id="replies-count-4">ğŸ’¬ 8 balasan</span>
                    <span>ğŸ·ï¸ Data, Batimetri, GIS</span>
                </div>
                 <div class="replies-section" id="replies-4">
                    <button class="toggle-replies-btn" onclick="toggleReplies('4')">Lihat Balasan (8)</button>
                    <div class="reply-list" style="display: none;"></div>
                    <div class="new-reply-form" style="display: none;">
                        <input type="text" id="reply-author-4" placeholder="Nama Anda" style="width: 150px; margin-right: 10px; padding: 5px; border-radius: 5px;">
                        <input type="text" id="reply-content-4" placeholder="Tulis balasan Anda..." style="width: calc(100% - 220px); padding: 5px; border-radius: 5px;">
                        <button onclick="postReply('4')" style="padding: 5px 10px; margin-left: 10px;" class="btn-primary">Kirim</button>
                    </div>
                </div>
            </div>
            
        </div>
    </div>
</div>


    <div id="newThreadModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Buat Diskusi Baru</h3>
                <button class="close-modal" onclick="closeNewThreadModal()">Ã—</button>
            </div>
            <form id="newThreadForm">
                <div class="form-group">
                    <label>Judul Diskusi *</label>
                    <input type="text" id="threadTitle" placeholder="Masukkan judul diskusi yang jelas dan deskriptif" required>
                </div>
                <div class="form-group">
                    <label>Nama & Gelar *</label>
                    <input type="text" id="authorName" placeholder="contoh: Dr. Nama Anda, M.Si" required>
                </div>
                <div class="form-group">
                    <label>Konten Diskusi *</label>
                    <textarea id="threadContent" placeholder="Jelaskan topik diskusi, pertanyaan penelitian, atau ajakan kolaborasi Anda..." required></textarea>
                </div>
                <div class="form-group">
                    <label>Tag (pisahkan dengan koma)</label>
                    <input type="text" id="threadTags" placeholder="contoh: Oseanografi, Klimatologi, Metodologi">
                </div>
                <button type="submit" class="btn-primary" style="width: 100%;">Publikasikan Diskusi</button>
            </form>
        </div>
    </div>

<footer>
    <p><strong>SIMAKLAUT</strong> - Sistem Informasi Maritim dan Klimatologi Laut</p>
    <p>Dikembangkan untuk mendukung riset dan monitoring oseanografi di Provinsi Banten</p>
    <p style="margin-top: 1rem;">
        <button class="contact-btn" onclick="openContactModal()">ğŸ“§ Contact Us</button>
    </p>
</footer>

    <div id="loginModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Masuk ke SIMAKLAUT</h3>
                <button class="close-modal" onclick="closeLoginModal()">Ã—</button>
            </div>
            <form id="loginForm">
                <div class="form-group">
                    <label>Username</label>
                    <input type="text" id="loginUsername" placeholder="Masukkan nama pengguna" required>
                </div>
                <div class="form-group">
                    <label>Kata Sandi</label>
                    <input type="password" id="loginPassword" placeholder="Masukkan kata sandi" required>
                </div>
                <button type="submit" class="btn-primary" style="width: 100%;">Masuk</button>
            </form>
            <div style="text-align: center; margin-top: 1.5rem; color: #b3d9ff; font-size: 0.9rem;">
                Belum punya akun? 
                <span onclick="openSignUpModal()" style="color: #64b5f6; font-weight: bold; cursor: pointer; text-decoration: underline;">Daftar di sini</span>
            </div>
        </div>
    </div>

    <div id="signUpModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Daftar Akun Baru</h3>
                <button class="close-modal" onclick="closeSignUpModal()">Ã—</button>
            </div>
            <form id="signUpForm">
                <div class="form-group">
                    <label>Username</label>
                    <input type="text" id="signupUsername" placeholder="Buat nama pengguna" required>
                </div>
                <div class="form-group">
                    <label>Kata Sandi</label>
                    <input type="password" id="signupPassword" placeholder="Buat kata sandi (min. 6 karakter)" required>
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="signupEmail" placeholder="Email institusi/riset Anda" required>
                </div>
                <button type="submit" class="btn-primary" style="width: 100%;">Daftar & Buat Akun</button>
            </form>
            <div style="text-align: center; margin-top: 1.5rem; color: #b3d9ff; font-size: 0.9rem;">
                Sudah punya akun? 
                <span onclick="openLoginModal()" style="color: #64b5f6; font-weight: bold; cursor: pointer; text-decoration: underline;">Masuk di sini</span>
            </div>
        </div>
    </div>

<div id="contactModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h3>Kirim Feedback</h3>
            <button class="close-modal" onclick="closeContactModal()">Ã—</button>
        </div>
        <form id="contactForm">
            <div class="form-group">
                <label>Nama Anda</label>
                <input type="text" id="contactName" placeholder="Nama lengkap" required>
            </div>
            <div class="form-group">
                <label>Email Anda</label>
                <input type="email" id="contactEmail" placeholder="Email untuk balasan" required>
            </div>
            <div class="form-group">
                <label>Pesan</label>
                <textarea id="contactFeedback" placeholder="Tuliskan saran, kritik, atau pertanyaan di sini..." required></textarea>
            </div>
            <button type="submit" class="btn-primary" style="width: 100%;">Kirim Feedback</button>
        </form>
    </div>
</div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.9.4/leaflet.min.js"></script>

    <!-- Modal Edit Profile -->
    <div id="editProfileModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Edit Profil Saya</h3>
                <button class="close-modal" onclick="closeEditProfileModal()">Ã—</button>
            </div>
            <form id="editProfileForm">
                <div class="form-group">
                    <label>Nama Lengkap</label>
                    <input type="text" id="editFullName" placeholder="Nama lengkap Anda">
                </div>
                <div class="form-group">
                    <label>Email</label>
                    <input type="email" id="editEmail" placeholder="Email institusi/riset Anda">
                </div>
                <div class="form-group">
                    <label>Institusi/Lembaga</label>
                    <input type="text" id="editInstitution" placeholder="contoh: Universitas Indonesia">
                </div>
                <div class="form-group">
                    <label>Bidang Studi</label>
                    <input type="text" id="editFieldOfStudy" placeholder="contoh: Oseanografi">
                </div>
                <div class="form-group">
                    <label>Nomor Telepon</label>
                    <input type="tel" id="editPhone" placeholder="contoh: +62 812 3456 7890">
                </div>
                <div class="form-group">
                    <label>Bio</label>
                    <textarea id="editBio" placeholder="Ceritakan sedikit tentang penelitian atau minat Anda..." rows="4"></textarea>
                </div>
                <button type="submit" class="btn-primary" style="width: 100%;">Simpan Perubahan</button>
                <button type="button" class="btn-primary" style="width: 100%; margin-top: 10px; background: #f44336;" onclick="openChangePasswordModal()">Ganti Password</button>
            </form>
        </div>
    </div>

    <!-- Modal Change Password -->
    <div id="changePasswordModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Ganti Password</h3>
                <button class="close-modal" onclick="closeChangePasswordModal()">Ã—</button>
            </div>
            <form id="changePasswordForm">
                <div class="form-group">
                    <label>Password Lama</label>
                    <input type="password" id="currentPassword" placeholder="Masukkan password lama" required>
                </div>
                <div class="form-group">
                    <label>Password Baru</label>
                    <input type="password" id="newPassword" placeholder="Masukkan password baru (min. 6 karakter)" required>
                </div>
                <div class="form-group">
                    <label>Konfirmasi Password Baru</label>
                    <input type="password" id="confirmPassword" placeholder="Ketik ulang password baru" required>
                </div>
                <button type="submit" class="btn-primary" style="width: 100%;">Ganti Password</button>
            </form>
        </div>
    </div>
    <script src="auth.js"></script>
    <script src="script.js"></script>
</body>
</html>
